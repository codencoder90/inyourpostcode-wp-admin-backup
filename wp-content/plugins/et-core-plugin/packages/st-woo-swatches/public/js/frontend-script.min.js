var $=jQuery.noConflict(),ST_WC_FRONT_SWATCH=ST_WC_FRONT_SWATCH||{},ST_WC_Chosen_attribute="",ST_WC_Show_selected_title=!1,ST_WC_Triggered_variations=[];!function(m){"use strict";ST_WC_FRONT_SWATCH.onSelect=function(){m("body").on("click","ul.st-swatch-preview:not(.et_linked-swatches) span.st-custom-attribute",function(){var t,e,a,s;m(this).parents().is(".swiper-entry, .products-loop, .etheme-product-grid-item, .etheme-product-list-item")||(t=m(this).closest("[data-attribute]").data("attribute"),t=m("select#"+t),e=m(this).data("value"),a=m(this).parent("li"),s=m(this).parents(".variations_form.cart").attr("data-product_variations"),null==e||t.find('option[value="'+e+'"]').length?(a.hasClass("selected")?(a.removeClass("selected"),t.val(" "),1==sten_wc_params.is_singular_product&&(sten_wc_params.is_customize_preview&&a.css({"border-color":a.data("border-color")}),ST_WC_Show_selected_title)&&a.parents("tr").find(" > th label").attr("data-swatch-name",null)):(a.addClass("selected").siblings().removeClass("selected"),t.val(e),1==sten_wc_params.is_singular_product&&(sten_wc_params.is_customize_preview&&(a.removeAttr("style"),a.siblings().css({"border-color":a.data("border-color")}),a.css({"border-color":a.data("active-border-color")})),ST_WC_Show_selected_title)&&a.parents("tr").find("> th label").attr("data-swatch-name",null).attr("data-swatch-name",m(this).attr("data-name")),ST_WC_Chosen_attribute=m(this).closest("[data-attribute]").data("attribute")),!sten_wc_params.stock_logic&&"false"===s&&etConfig.woocommerceSettings.primary_attribute&&"et_none"!=etConfig.woocommerceSettings.primary_attribute&&(m("footer").append('<style class="et-temp-style et-temp-style_single-product">.attachment-woocommerce_single{display:none}</style>'),jQuery(document).on("found_variation",function(t,e){setTimeout(function(){m(".et-temp-style_single-product").remove()},50)})),t.trigger("change"),sten_wc_params.stock_logic&&m(".variations_form").find("ul.st-swatch-preview").each(function(t,e){ST_WC_FRONT_SWATCH.singleProductUpdateAttribute(e),a.removeClass("sten-li-disabled")})):(t.val(" ").trigger("change"),a.siblings().removeClass("selected"),window.alert(sten_wc_params.i18n_no_matching_variations_text)))}),m(document).on("click",".etheme-sticky-cart .st-custom-attribute",function(){var t=m(document).find(".et_product-block .woocommerce-variation-add-to-cart");(t.hasClass("disabled")||t.hasClass("woocommerce-variation-add-to-cart-disabled"))&&m(document).find(".etheme-sticky-cart .single_add_to_cart_button").addClass("disabled")})},ST_WC_FRONT_SWATCH.singleProductPrimaryAttribute=function(){m(document).find(".variations_form.cart").on("reset_data",function(){var s=m(this);etConfig.woocommerceSettings.primary_attribute&&"et_none"!=etConfig.woocommerceSettings.primary_attribute&&ST_WC_Chosen_attribute=="pa_"+etConfig.woocommerceSettings.primary_attribute&&(ST_WC_Chosen_attribute="",setTimeout(function(){var t,e=ST_WC_FRONT_SWATCH.productLoop.getChosenAttributes(s),a=e.data;(!sten_wc_params.stock_logic||e.count&&e.chosenCount&&e.count!=e.chosenCount)&&(e=m.parseJSON(s.attr("data-product_variations")),e=ST_WC_FRONT_SWATCH.productLoop.findMatchingVariations(e,a).shift(),a=m(".woocommerce-main-image").first(),t=m(".thumbnail-item a").first(),!sten_wc_params.stock_logic&&void 0===e||(a.find("img").attr("data-o_src")||a.find("img").attr("data-o_data-src")||(a.attr("data-o_href",a.attr("href")),a.find("img").attr({"data-o_src":a.find("img").attr("src"),"data-o_data-src":a.find("img").attr("src"),"data-o_data-large_image":a.find("img").attr("data-large_image")})),a.attr("href",e.image.full_src),a.find("img").attr({src:e.image.src,"data-src":e.image.src,"data-large_image":e.image.full_src,srcset:""}),sten_wc_params.stock_logic||m(".woocommerce-main-image.pswp-main-image").find("img").attr({src:e.image.full_src,srcset:""}),a.parent().find("img.zoomImg").attr("src",a.find("img").attr("data-large_image")),t.attr("href",e.image.full_src).attr("data-large",e.image.full_src).attr("data-small",e.image.gallery_thumbnail_src),t.find("img").attr("src",e.image.gallery_thumbnail_src).attr("srcset",e.image.gallery_thumbnail_src)))},50))})},ST_WC_FRONT_SWATCH.onSelectUpdateAttribute=function(){sten_wc_params.stock_logic||m(document).on("show_variation","form.variations_form",function(t,e){var a=m(".woocommerce-main-image.pswp-main-image img");a.attr("src",e.image.full_src),a.attr("srcset",e.image.full_src),a.attr("data-src",e.image.full_src),a.attr("data-srcset",e.image.full_src)}),m(document).on("woocommerce_update_variation_values","form.variations_form",function(){m(this).find("ul.st-swatch-preview").each(function(){var t=m(this).data("attribute"),t=document.getElementById(t),e=m(t).find("option"),a=m(t).find("option").eq(1),s=m(this).find("li"),i=m(t).find("option:selected"),r=[],o="";e.each(function(){""!==m(this).val()&&(r.push(m(this).val()),o=(i||a).val())}),s.each(function(){var t=this,e=m(t).find("span.st-custom-attribute").attr("data-value");m(t).removeClass("selected sten-li-disabled").addClass("sten-li-disabled"),-1!==r.indexOf(e.toString())&&(m(t).removeClass("sten-li-disabled"),e.toString()==o)&&(m(t).addClass("selected"),!sten_wc_params.stock_logic)&&ST_WC_Show_selected_title&&s.parents("tr").find(" > th label").attr("data-swatch-name",m(t).children().attr("data-name"))})})})},ST_WC_FRONT_SWATCH.singleProductUpdateAttribute=function(t){var e,a=m.parseJSON(m(t).parents(".variations_form").attr("data-product_variations")),s=ST_WC_FRONT_SWATCH.productLoop.getChosenAttributes(m(t).parents(".variations_form")).data,s=m.extend(!0,{},s),i=ST_WC_FRONT_SWATCH.productLoop.findMatchingVariations(a,s),r="attribute_"+m(t).data("attribute");for(e in i)if(void 0!==i[e]){var o,n,d=i[e].attributes;for(o in d)d.hasOwnProperty(o)&&(n=d[o],o!==r||i[e].is_in_stock||m(t).find('span.st-custom-attribute[data-value="'+n+'"]').parent().hasClass("sten-li-enabled")||m(t).find('span.st-custom-attribute[data-value="'+n+'"]').parent().addClass("sten-li-disabled"))}},ST_WC_FRONT_SWATCH.onClear=function(){m(document).on("click","form.variations_form a.reset_variations",function(){var t=m(this).parents("form.variations_form"),e=t.find("ul.st-swatch-preview li.selected");e.removeClass("selected"),1==sten_wc_params.is_singular_product&&(sten_wc_params.is_customize_preview&&e.css({"border-color":e.data("border-color")}),ST_WC_Show_selected_title&&t.find("label[data-swatch-name]").attr("data-swatch-name",null),sten_wc_params.stock_logic||m(document).find("a.reset_variations").css("visibility","hidden"))})},ST_WC_FRONT_SWATCH.productLoop={init:function(){ST_WC_FRONT_SWATCH.productLoop.itemSwatches(),ST_WC_FRONT_SWATCH.productLoop.addToCart(),ST_WC_FRONT_SWATCH.productLoop.showMoreAttr()},itemSwatches:function(){m("div.st-swatch-in-loop").each(function(){var i=m(this),t=i.find("span.st-custom-attribute:not(.sten-disabled)"),r=i.find("a.sten-reset-loop-variation, .et-delete"),o=i.closest(".product-type-variable, .product-type-variable-subscription"),n=m.parseJSON(i.attr("data-product_variations")),e=i.find("ul.has-default-attribute"),a=i.find(".et_st-select-holder");if(o.find("a.add_to_cart_button").addClass("et-st-disabled"),m(".st-swatch-btn-ready").removeClass("et-st-disabled"),ST_WC_FRONT_SWATCH.productLoop.updateAttributes(i,n),a.length){if(1==a.length)a.removeClass("hidden"),a.find("li.type-select").each(function(){var t=m(this).find(".st-attribute-price"),e=t.find(">span").clone();t.html(e)});else{let t=!1;a.each(function(){m(this).find("ul.has-default-attribute").length?(m(this).removeClass("hidden"),m(this).data("was-changed",!0).parent().find(".et_st-select-holder.hidden").first().removeClass("hidden"),t=!0):m(this).addClass("hidden")}),t||a.first().removeClass("hidden")}a.last().addClass("et_st-select-holder-last"),i.find(".et_st-default-holder:not(.et_st-select-holder)").length||(o.addClass("has-select-swatch-only"),i.find("a.sten-reset-loop-variation").addClass("hidden"),o.find("a.add_to_cart_button").text(sten_wc_params.add_to_cart_btn_text))}e.each(function(){var t=m(this).parent("div.st-swatch-in-loop").find("a.sten-reset-loop-variation"),e=(t.show(),ST_WC_FRONT_SWATCH.productLoop.getChosenAttributes(i)),a=e.data;e.count===e.chosenCount?(ST_WC_FRONT_SWATCH.productLoop.updateAttributes(i,n),(e=ST_WC_FRONT_SWATCH.productLoop.findMatchingVariations(n,a).shift())?ST_WC_FRONT_SWATCH.productLoop.foundVariation(o,i,e):t.trigger("click")):ST_WC_FRONT_SWATCH.productLoop.updateAttributes(i,n)}),t.on("click",function(){var t=m(this),e=t.parent("li"),a=e.parents(".et_st-select-holder"),s=!!a.length&&a.find(".et_st-swatch-select-title");if(t.hasClass("sten-disabled"))return!1;o.find("span.st-custom-attribute").removeClass("sten-disabled sten-enabled"),o.find("span.st-custom-attribute").parent("li").removeClass("sten-li-disabled sten-li-enabled"),e.hasClass("selected")&&sten_wc_params.is_customize_preview&&e.css({"border-color":e.data("border-color")}),e.hasClass("selected")||(e.addClass("selected").siblings().removeClass("selected"),s&&s.html(m(this).html()),a.length&&(a.data("was-changed")||a.data("was-changed",!0).parent().find(".et_st-select-holder.hidden").first().removeClass("hidden"),a.find(".et_st-swatch-select-list").addClass("hidden"),setTimeout(function(){a.find(".et_st-swatch-select-wrapper").removeClass("active"),a.find(".et_st-swatch-select-list").removeClass("hidden")},300)),sten_wc_params.is_customize_preview&&(e.removeAttr("style"),e.siblings().css({"border-color":e.data("border-color")}),e.css({"border-color":e.data("active-border-color")})),r.slideDown());var t=ST_WC_FRONT_SWATCH.productLoop.getChosenAttributes(i),s=t.data;t.count===t.chosenCount?(ST_WC_FRONT_SWATCH.productLoop.updateAttributes(i,n),(e=ST_WC_FRONT_SWATCH.productLoop.findMatchingVariations(n,s).shift())?ST_WC_FRONT_SWATCH.productLoop.foundVariation(o,i,e):r.trigger("click")):(etConfig.woocommerceSettings.primary_attribute&&"et_none"!=etConfig.woocommerceSettings.primary_attribute&&m(this).closest("[data-attribute]").data("attribute")=="pa_"+etConfig.woocommerceSettings.primary_attribute&&(t=ST_WC_FRONT_SWATCH.productLoop.findMatchingVariations(n,s).shift(),ST_WC_FRONT_SWATCH.productLoop.variationsImageUpdate(o,t)),ST_WC_FRONT_SWATCH.productLoop.updateAttributes(i,n))}),r.on("click",function(){i.removeAttr("data-variation_id"),sten_wc_params.is_customize_preview&&(t=i.find("ul.st-swatch-preview li.selected")).css({"border-color":t.data("border-color")}),i.find(".et_st-swatch-select-title").text(sten_wc_params.select_options_btn_text),sten_wc_params.show_select_type_price&&o.removeClass("hide-product-price"),i.find("ul.st-swatch-preview li").removeClass("selected sten-li-disabled sten-li-enabled"),i.find("ul.st-swatch-preview span").removeClass("sten-disabled sten-enabled");var t=o.find("a.add_to_cart_button");let e=t;o.is(".etheme-product-grid-item, .etheme-product-list-item")&&(e=o.find(".st-swatch-popup").length&&!o.find(".st-swatch-popup .quantity-wrapper").length?o.find(".st-swatch-in-loop a.add_to_cart_button"):o.find(".etheme-product-grid-button .button-text, .etheme-product-list-button .button-text")),t.addClass("et-st-disabled").removeClass("st-swatch-btn-ready st-swatch-btn-readmore st-swatch-btn-text-changed added loading").attr("aria-label",sten_wc_params.select_options_btn_text+" "+sten_wc_params.read_more_for_btn_text+' "'+t.attr("data-product_name")+'"'),e.text(sten_wc_params.select_options_btn_text),o.find("a.added_to_cart").remove();var t=o.find("span.price").not(".price-cloned"),a=o.find(".price-cloned");a.length&&(t.html(a.html()),a.remove()),etConfig.woocommerceSettings.wishlist_for_variations&&i.trigger("reset_data"),n=m.parseJSON(i.attr("data-product_variations")),ST_WC_FRONT_SWATCH.productLoop.updateAttributes(i,n),ST_WC_FRONT_SWATCH.productLoop.variationsImageUpdate(o,!1),ST_WC_FRONT_SWATCH.productLoop.variationsCountdownUpdate(o,!1),ST_WC_FRONT_SWATCH.productLoop.variationsLoopQty(o,!1),m(this).slideUp()})})},getChosenAttributes:function(t){var a={},s=0,i=0;return t.find("ul.st-swatch-preview").each(function(){var t="attribute_"+m(this).data("attribute"),e=m(this).find("li.selected span.st-custom-attribute").attr("data-value")||"";0<(e=e.toString()).length&&i++,s++,a[t]=e}),{count:s,chosenCount:i,data:a}},updateAttributes:function(t,l){var p,u=ST_WC_FRONT_SWATCH.productLoop.getChosenAttributes(t).data;t.find("ul.st-swatch-preview").each(function(t,e){var a,s=m(e),i="attribute_"+s.data("attribute"),e=s.find("li.selected span.st-custom-attribute").data("value"),r=!0,o=m.extend(!0,{},u),n=(o[i]="",ST_WC_FRONT_SWATCH.productLoop.findMatchingVariations(l,o));for(a in n)if(void 0!==n[a]){var d,c,_=n[a].attributes;for(d in _)_.hasOwnProperty(d)&&(c=_[d],d===i)&&(n[a].variation_is_active,n[a].is_in_stock)&&(c?s.find('span.st-custom-attribute[data-value="'+c+'"]'):s.find("span.st-custom-attribute")).addClass("sten-enabled")}p=s.find("span.st-custom-attribute.sten-enabled").length,!e||0!==p&&0!==s.find('span.st-custom-attribute.sten-enabled[data-value="'+ST_WC_FRONT_SWATCH.productLoop.addSlashes(e)+'"]').length||(r=!1),s.find("span.st-custom-attribute:not(.sten-enabled)").addClass("sten-disabled"),s.find("span.st-custom-attribute:not(.sten-enabled)").parent("li").addClass("sten-li-disabled"),e&&r||s.find("li.selected").removeClass("selected")})},findMatchingVariations:function(t,e){for(var a=[],s=0;s<t.length;s++){var i=t[s];ST_WC_FRONT_SWATCH.productLoop.isMatch(i.attributes,e)&&a.push(i)}return a},isMatch:function(t,e){var a,s,i,r=!0;for(a in t)t.hasOwnProperty(a)&&(s=t[a],i=e[a],null!=s)&&null!=i&&0!==s.length&&0!==i.length&&s!==i&&(r=!1);return r},foundVariation:function(t,e,a){var s=t.find("span.price").not(".price-cloned"),i=s.clone().addClass("price-cloned").css("display","none"),r=e.find(".et_st-select-holder-last"),r=!!r.length&&r.find(".et_st-swatch-select-title").find(".st-attribute-price");e.attr("data-variation_id",a.variation_id),a.price_html?(t.find(".price-cloned").length||t.append(i),s.replaceWith(a.price_html),r.length&&(r.html(a.price_html),sten_wc_params.show_select_type_price)&&t.addClass("hide-product-price")):t.find(".price-cloned").length&&(s.replaceWith(i.html()),i.remove(),r.length)&&(r.html(i.html()),sten_wc_params.show_select_type_price)&&t.addClass("hide-product-price"),etConfig.woocommerceSettings.wishlist_for_variations&&e.trigger("found_variation",[a]),ST_WC_FRONT_SWATCH.productLoop.variationsImageUpdate(t,a),ST_WC_FRONT_SWATCH.productLoop.variationsCountdownUpdate(t,a),ST_WC_FRONT_SWATCH.productLoop.changeAddToCartBtnText(t,a)},normalizeProductId:function(t,e){var a=t.find(".st-swatch-in-loop").attr("data-product_id"),t=t.find("a.add_to_cart_button"),s=t.attr("data-product_id");a&&!s&&t.attr("data-product_id",a)},variationsLoopQty:function(t,s,i){if(s){if(i.length&&s.is_in_stock)if(s.max_qty)if("SELECT"==i[0].nodeName){var r=i.find("option");r.attr("disabled",1);let e=s.min_qty,a=s.max_qty;m(r).each(function(){var t=this.value;(""==a||t<=a)&&(t>=e||""==e)?m(this).attr("disabled",null):i.val(i.find("option:not([disabled]):first").val())})}else i.attr("min",s.min_qty),i.attr("max",s.max_qty),s.max_qty<i.val()&&i.parent().find(".plus").trigger("click");else"SELECT"==i[0].nodeName?i.find("option").attr("disabled",null):(null!==i.attr("data-o_max")&&(i.attr("data-o_min",i.attr("min")),i.attr("data-o_max",i.attr("max"))),i.attr("min",s.min_qty),i.attr("max",s.max_qty))}else{r=t.find("input.qty:not(.quantity-discount-qty-input)"),s=t.find("select.qty:not(.quantity-discount-qty-input)");r.length?(r.attr("max",r.attr("data-o_max")),r.attr("min",r.attr("data-o_min"))):s.length&&s.find("option").attr("disabled",null)}},variationsImageUpdate:function(t,e){var a,s=t.find("img.wp-post-image, img.attachment-woocommerce_thumbnail, img.attachment-shop_catalog, .etheme-product-grid-image img"),i=t.find(".st-swatch-in-loop");ST_WC_FRONT_SWATCH.productLoop.normalizeProductId(t,e),ST_WC_FRONT_SWATCH.productLoop.variationsLoopQty(t,e,t.find("input.qty:not(.quantity-discount-qty-input), select.qty:not(.quantity-discount-qty-input)")),t.find(".show-quickly").attr("data-attributes",null),e&&t.find(".show-quickly").attr("data-attributes",JSON.stringify(e.attributes)),e&&e.st_image_src&&e.image.src&&1<e.st_image_src.length?(s.parents().is(".product-image-wrapper")&&((a=m(s).parents(".product-image-wrapper")).find(".product-content-image"),i.is(".st-swatch-popup")||a.addClass("variation-changed")),ST_WC_FRONT_SWATCH.productLoop.setVariationAttr(s,"src",e.st_image_src[0]),s.attr("srcset")&&ST_WC_FRONT_SWATCH.productLoop.setVariationAttr(s,"srcset",e.st_image_srcset),ST_WC_FRONT_SWATCH.productLoop.setVariationAttr(s,"sizes",e.st_image_sizes)):(s.parents().is(".product-image-wrapper")&&((a=m(s).parents(".product-image-wrapper")).find(".product-content-image"),i.is(".st-swatch-popup")||a.removeClass("variation-changed")),ST_WC_FRONT_SWATCH.productLoop.resetVariationAttr(s,"src"),s.attr("srcset")&&ST_WC_FRONT_SWATCH.productLoop.resetVariationAttr(s,"srcset"),ST_WC_FRONT_SWATCH.productLoop.resetVariationAttr(s,"sizes"))},variationsCountdownUpdate:function(t,e){var a=t.find(".product-sale-counter"),s=(a.length&&(e&&e._sale_price_end?(a.attr("data-start",e._sale_price_start),a.attr("data-final",e._sale_price_end),void 0!==etTheme.countdown&&etTheme.countdown(),a.removeClass("hidden")):a.addClass("hidden")),t.find(".etheme-countdown-wrapper"));s.length&&(e&&e._sale_price_end_gmt?(s.data("date",e._sale_price_end_gmt),s.data("reinit","1"),s.removeClass("hidden").block({message:null,overlayCSS:{opacity:.6}}),setTimeout(function(){s.unblock()},1200)):s.addClass("hidden"))},changeAddToCartBtnText:function(t,e){var a=t.find("a.add_to_cart_button"),s=a,i="",r="";t.is(".etheme-product-grid-item, .etheme-product-list-item")&&(s=t.find(".st-swatch-popup").length&&!t.find(".st-swatch-popup .quantity-wrapper").length?t.find(".st-swatch-in-loop a.add_to_cart_button"):t.find(".etheme-product-grid-button .button-text, .etheme-product-list-button .button-text")),a.removeClass("added"),Object.keys(e.attributes).length===t.find("ul.st-swatch-preview").length?!0===e.is_in_stock?(i=sten_wc_params.add_to_cart_btn_text,r=sten_wc_params.add_to_cart_btn_text,a.addClass("st-swatch-btn-ready").removeClass("st-swatch-btn-readmore").removeClass("et-st-disabled")):(i=sten_wc_params.read_more_btn_text,r=sten_wc_params.read_more_btn_text,r+=" "+sten_wc_params.read_more_about_btn_text,a.addClass("st-swatch-btn-readmore et-st-disabled").removeClass("st-swatch-btn-ready")):(i=sten_wc_params.select_options_btn_text,r=sten_wc_params.select_options_btn_text,r+=" "+sten_wc_params.read_more_for_btn_text,a.removeClass("st-swatch-btn-ready st-swatch-btn-readmore et-st-disabled")),r+=' "'+a.attr("data-product_name")+'"',a.attr("aria-label",r),a.addClass("st-swatch-btn-text-changed"),s.text(i),a.hasClass("product_type_variable-subscription")&&(a.attr("data-product_id",e.variation_id),a.addClass("ajax_add_to_cart"))},setVariationAttr:function(t,e,a){t.removeClass("hidden"),t.parent().find("video").addClass("hidden"),void 0===t.attr("data-o_"+e)&&t.attr("data-o_"+e,t.attr(e)?t.attr(e):""),!1===a?t.removeAttr(e):t.attr(e,a)},resetVariationAttr:function(t,e){var a=t.parent().find("video");a.length&&(t.addClass("hidden"),a.removeClass("hidden")),t.parents(".content-product, .product-content").find(".et-out-of-stock").removeClass("et-out-of-stock"),void 0!==t.attr("data-o_"+e)&&t.attr(e,t.attr("data-o_"+e)),t&&t.hasClass("lazyloaded")&&(t.removeClass("lazyloaded").addClass("lazyload"),etTheme.global_image_lazy())},addSlashes:function(t){return t=(t=(t=t.toString()).replace(/'/g,"\\'")).replace(/"/g,'\\"')},addToCart:function(){m(document).on("click",".et-st-disabled",function(t){if(etConfig.woocommerceSettings.is_smart_addtocart&&t.preventDefault(),m(this).hasClass("product_type_variable"))return window.location=m(this).attr("href"),!1}),m(document).on("click","a.product_type_variable.add_to_cart_button.st-swatch-btn-ready",function(t){t.preventDefault();var a=m(this),e=a.closest(".product-type-variable").find("div.st-swatch-in-loop"),s=e.attr("data-variation_id");if(void 0===s||""==s)return!0;var i=a.data("product_id"),r=a.attr("data-quantity"),o={},e=(e.find("ul.st-swatch-preview").each(function(){var t=m(this).data("attribute"),e=m(this).find("li.selected span").data("value");o["attribute_"+t]=e}),a.removeClass("added"),a.addClass("loading"),{action:"sten_wc_product_loop_add_to_cart",product_id:i,quantity:r,variation_id:s,variation:o});m("body").trigger("adding_to_cart",[a,e]),m.ajax({type:"POST",url:sten_wc_params.ajax_url,data:e,success:function(t){var e;return!!t&&(t.error&&t.product_url?(window.location=t.product_url,!1):(e=t.fragments,t=t.cart_hash,e&&m.each(e,function(t,e){m(t).replaceWith(e)}),a.addClass("added"),m("body").trigger("added_to_cart",[e,t,a]),void a.parents(".product-type-variable").find(".st-swatch-in-loop .et-delete").trigger("click")))},error:function(t){console.log(t)}}),t.preventDefault()}),m(document).on("click",".et_st-swatch-select-title",function(){(m(this).parent().hasClass("active")?m(this).parent():(m(this).parent().addClass("active"),m(this).parent().parent().siblings())).removeClass("active")})},showMoreAttr:function(){m(document).on("click",".et_show-more-attr",function(){var t=m(this).parents(".st-swatch-in-loop");t.find("ul.st-swatch-preview li.hidden:not(.et_show-more-attr)").removeClass("hidden"),t.find("ul.st-swatch-preview li.et_show-more-attr").addClass("hidden")})}},ST_WC_FRONT_SWATCH.documentOnReady={init:function(){var t;ST_WC_Show_selected_title="both"==sten_wc_params.show_selected_title,-1<m.inArray(sten_wc_params.show_selected_title,["mobile","desktop"])&&(t=m(window).width(),ST_WC_Show_selected_title="mobile"==sten_wc_params.show_selected_title&&t<992||"desktop"==sten_wc_params.show_selected_title&&993<=t),ST_WC_FRONT_SWATCH.onSelect(),ST_WC_FRONT_SWATCH.singleProductPrimaryAttribute(),ST_WC_FRONT_SWATCH.onClear(),ST_WC_FRONT_SWATCH.onSelectUpdateAttribute(),ST_WC_FRONT_SWATCH.productLoop.init()},ET_In_Popup:function(){m(document).on("click",".st-swatch-et-disabled li span",function(t){var e=m(this).parents(".st-swatch-in-loop"),a=e.parents(".content-product"),s=(e.addClass("active"),m(this).parents(".product-details").addClass("st-swatch-popup-active"),m.each(e.closest("div").find("div.et_st-default-holder"),function(){var t=m(this).html();t=(t=t.replace("st-swatch-size-small","st-swatch-size-normal")).replace("st-swatch-et-disabled","st-swatch-et-enabled"),m(this).parents(".st-swatch-in-loop").find(".st-swatch-preview-wrap .et_st-popup-holder").append(t)}),e.find("div.et_st-default-holder").height());e.find("div.et_st-default-holder").css("min-height",s),e.find("div.et_st-default-holder ul").remove(),e.find(".sten-reset-loop-variation").remove(),a.find(".product-image-wrapper").is(".variation-changed")||a.find(".product-image-wrapper").addClass("variation-changed"),ST_WC_FRONT_SWATCH.productLoop.itemSwatches()}),m(document).on("click",".st-swatch-in-loop .et-delete",function(t){var e=m(this).parents(".st-swatch-in-loop").parents(".content-product");m.each(m(this).parents(".st-swatch-in-loop").find("div.st-swatch-preview-wrap .et_st-popup-holder ul"),function(){var t=m(this).removeClass("st-swatch-et-enabled").addClass("st-swatch-et-disabled"),e=m(this).data("attribute");m(this).parents(".st-swatch-in-loop").find('div.et_st-default-holder[data-et-holder="'+e+'"]').prepend(t)}),m(this).parents(".st-swatch-in-loop").removeClass("active"),m(this).parents(".product-details").removeClass("st-swatch-popup-active"),m(this).parents(".st-swatch-in-loop").find(".st-swatch-preview-wrap .et_st-popup-holder ul").remove(),e.find(".product-image-wrapper").is(".variation-changed")&&e.find(".product-image-wrapper").removeClass("variation-changed"),ST_WC_FRONT_SWATCH.productLoop.itemSwatches()})}},m(document).ready(ST_WC_FRONT_SWATCH.documentOnReady.init),m(document).ready(ST_WC_FRONT_SWATCH.documentOnReady.ET_In_Popup)}(jQuery);