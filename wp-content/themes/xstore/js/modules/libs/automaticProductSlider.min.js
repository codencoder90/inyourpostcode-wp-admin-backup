"use strict";!function(){const s={options:{touch:"move",infinite:!0,autostart:!0,preloadImages:!1,preventScroll:!1,resetOnOut:!0,hideOneDot:!0},i:0,touchStartX:null,touchChangeUnify(e){return e.changedTouches?e.changedTouches[0]:e},touchStartHandler(e){s.touchStartX=s.touchChangeUnify(e).clientX},touchEndHandler(t){if(s.touchStartX||0===s.touchStartX){t=s.touchChangeUnify(t).clientX-s.touchStartX,t=Math.sign(t);if(s.touchStartX=null,0!==t){var r=this,i=r.querySelector(".hover-slider-images-toggler"),a=r.querySelector("img.hover-slider-init"),r=r.querySelector(".hover-slider-indicator"),n=r.querySelector(".active");let e=null;0<t?!(e=n.previousElementSibling)&&s.getOption(a,"infinite")&&(e=r.querySelector("div.hover-slider-indicator-dot:last-of-type")):!(e=n.nextElementSibling)&&s.getOption(a,"infinite")&&(e=r.querySelector("div.hover-slider-indicator-dot:first-of-type")),e&&(n.classList.remove("active"),e.classList.add("active"),t=e.dataset.hoverSliderI,r=i.querySelector(`div[data-hover-slider-i="${t}"]`),s.changeImgByTogglePane(r,a))}}},changeImgByTogglePane(e,t){var r=e.dataset.hoverSliderI,e=e.dataset.hoverSliderImage,i=s.findLoadedImageById(r);!1!==i?t.replaceWith(i):(i=s.createVirtualImage(t,e),s.loadedImages.push({el:i,id:r,src:e}),t.replaceWith(i))},togglePaneEnterListener(e,t=null){var t=t||this,r=t.parentElement.parentElement.querySelector("img.hover-slider-init"),r=(s.changeImgByTogglePane(t,r),t.dataset.hoverSliderI),t=t.parentElement.parentElement.querySelector(".hover-slider-indicator");t.querySelector(".active").classList.remove("active"),t.querySelector(`.hover-slider-indicator-dot[data-hover-slider-i="${r}"]`).classList.add("active")},createElement(e,t={}){let r=null;switch(e){case"imagesToggler":(r=document.createElement("div")).classList.add("hover-slider-images-toggler"),r.style.position="absolute",r.style.top="0",r.style.right="0",r.style.bottom="0",r.style.left="0",r.style.display="flex";break;case"togglePane":(r=document.createElement("div")).classList.add("hover-slider-toggle-pane"),r.style.flexGrow="1",r.dataset.hoverSliderImage=t.slideSrc,r.dataset.hoverSliderI=s.i,r.addEventListener("mouseenter",s.togglePaneEnterListener,{passive:!0});break;case"sliderIndicator":(r=document.createElement("div")).classList.add("hover-slider-indicator");break;case"indicatorDot":(r=document.createElement("div")).dataset.hoverSliderI=s.i,r.classList.add("hover-slider-indicator-dot"),t.active&&r.classList.add("active")}return r},getOption(e=null,t){let r={...s.options};return(r=e&&e.dataset.options?Object.assign(r,JSON.parse(e.dataset.options)):r)[t]},loadedImages:[],findLoadedImageById(t){var e=s.loadedImages.find(function(e){if(parseInt(e.id)===parseInt(t))return!0});return void 0!==e&&e.el},createVirtualImage(e,t){var r=document.createElement("img");return r.setAttribute("src",t),r.classList=e.classList,r.dataset.options=e.dataset.options,r.classList.add("hover-slider-init"),r},prepareMarkupForImage(r){const i=r.parentElement;let t=[];t.push(r.getAttribute("src"));var a=r.dataset.hoverSlides;try{t=t.concat(JSON.parse(a))}catch(e){t=t.concat(a.split(","))}t=t.filter(e=>null!==e).map(function(e){return e.trim()});const n=s.createElement("imagesToggler"),o=s.createElement("sliderIndicator");this.options.hideOneDot&&t.length<2&&(o.style.display="none"),t.forEach(function(e,t){s.i++,n.append(s.createElement("togglePane",{slideSrc:e})),o.append(s.createElement("indicatorDot",{active:0===t})),!0===s.getOption(r,"preloadImages")&&s.loadedImages.push({el:s.createVirtualImage(r,e),id:s.i,src:e})}),"relative"!==getComputedStyle(i).position&&(i.style.position="relative"),"move"===s.getOption(r,"touch")&&i.addEventListener("touchmove",e=>{var t=e.touches[0],t=document.elementFromPoint(t.clientX,t.clientY);t&&t.classList.contains("hover-slider-toggle-pane")&&s.togglePaneEnterListener(e,t),s.getOption(r,"preventScroll")&&e.preventDefault()},{passive:!0}),"end"===s.getOption(r,"touch")&&(i.addEventListener("touchstart",s.touchStartHandler,{passive:!0}),i.addEventListener("touchend",s.touchEndHandler,{passive:!0}),s.getOption(r,"preventScroll"))&&i.addEventListener("touchmove",e=>{e.preventDefault()},{passive:!1}),i.prepend(o),i.prepend(n),s.getOption(r,"resetOnOut")&&i.addEventListener("mouseleave",function(){var e,t=i.querySelector(".hover-slider-toggle-pane");t&&(e=new MouseEvent("mouseenter",{view:window,bubbles:!0,cancelable:!0}),t.dispatchEvent(e))},{passive:!0}),r.classList.add("hover-slider-init")},prepareMarkup(e=null){e?s.prepareMarkupForImage(e):document.querySelectorAll("img[data-hover-slides]:not(.hover-slider-init)").forEach(function(e){s.prepareMarkupForImage(e)})},init(e={}){return window.hoverSliderOptions&&(s.options=Object.assign(s.options,window.hoverSliderOptions)),s.options=Object.assign(s.options,e),s.getOption(null,"autostart")&&this.prepareMarkup(),this}};window.hoverSlider=s.init()}();